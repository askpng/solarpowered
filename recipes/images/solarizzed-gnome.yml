---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

name: solarizzed-gnome
description: Based on bazzite-deck-gnome

base-image: ghcr.io/ublue-os/bazzite-deck-gnome
image-version: stable

modules:
  - type: files
    files:
      - source: shared/usr
        destination: /usr

  - type: dnf
    source: ghcr.io/blue-build/modules/dnf:dnf-module
    repos:
      cleanup: true
      files:
        - codium.repo
      copr:
        - tigro/better_fonts
        - dusansimic/themes
        - sneexy/zen-browser
        - ilyaz/LACT
    optfix:
      - zen
    install:
      install-weak-deps: false
      packages:
        # codium
        - codium
        # prettifying packages
        - deepin-sound-theme
        - fontconfig-font-replacements
        - go-task
        - morewaita-icon-theme
        - nautilus-extensions
        - nautilus-python
        - oxygen-sounds
        - pop-sound-theme
        - rclone
        - rclone-browser
        - yaru-sound-theme
        # misc
        - lact-libadwaita
        - python3-pyclip
        - zen-browser
    remove:
      packages:
        - gnome-tweaks
  
  - type: script
    scripts:
      # citron appimage + /usr/bin link
      - solarizzed/citron.sh
  
  - type: systemd
    system:
      enabled:
        - lactd.service

  - type: default-flatpaks
    notify: true
    system:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      install:
        - page.tesk.Refine

  # extensions
  - type: gnome-extensions
    install:
      - Alphabetical App Grid
      - Auto Move Windows
      - 5425 # Battery time
      - Bluetooth Battery Meter
      - Night Theme Switcher
      - Default Workspace
      - 841 # Freon
      - Quick Settings Tweaks
  # installs themes & icons
  - from-file: shared/script.yml
  # installs luminance & windscribe
  - from-file: shared/rpms.yml
  # installs shared fonts
  - from-file: shared/fonts.yml

  - type: signing
