---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

# enter image name here
name: solarpowered-ex
# enter image description here
description: Custom image for AMD machines, based on Vanilla Silverblue

# this template is for use with
# shared/base.yml

# defines base image
# ---
base-image: quay.io/fedora/fedora-silverblue

# defines image major version
# ---
image-version: 43

modules:
  # this includes everything except for image-specific modifications
  # ---
  - from-file: shared/base.yml

  # image-specific packages module
  # base/core packages are all handled by solarpowered-raw
  # and should not be added here.
  # systemd services related to image-specific packages
  # may also be placed within this module for simplicity
  # ---
  - from-file: packages/solarpowered-ex.yml

  # Plymouth
  - from-file: shared/plymouth.yml

  # files module
  # copies files into /
  # ---
  - type: files
    files:
    # create a folder under files/ with the image name
    # and place directories and files appropriately
    # source entry should be the same name as the image name
    - source: solarpowered-ex # image name, or folder as named under files/
      destination: /

  # kernel selection
  # select ONE of the following from-file line
  # ---
  # - from-file: kernels/bazzite.yml 
  # - from-file: kernels/blu.yml 
  - from-file: kernels/cachy.yml
  # - from-file: kernels/fedora.yml

  - type: os-release
    properties:
      PRETTY_NAME: Fedora Linux 43 (Silverblue)
      VERSION_CODENAME: solarpowered-ex
      DEFAULT_HOSTNAME: spwd-ex
      HOME_URL: https://github.com/askpng/solarpowered
      DOCUMENTATION_URL: https://github.com/askpng/solarpowered
      SUPPORT_URL: https://github.com/askpng/solarpowered/issues
      BUG_REPORT_URL: https://github.com/askpng/solarpowered/issues

  - type: signing
