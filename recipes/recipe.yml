name: solarpowered
description: Custom image formulated for my Lenovo T480s

base-image: ghcr.io/ublue-os/silverblue-main
image-version: 40

modules:
  - type: files
    files:
      - usr: /usr
  
  #T480s exclusives
  - from-file: base/packages-t480s.yml

  #base packages
  - type: rpm-ostree
    repos:
      - https://copr.fedorainfracloud.org/coprs/zhangyuannie/butter/repo/fedora-%OS_VERSION%/zhangyuannie-butter-fedora-%OS_VERSION%.repo #butter
      - https://copr.fedorainfracloud.org/coprs/dusansimic/themes/repo/fedora-%OS_VERSION%/dusansimic-themes-fedora-%OS_VERSION%.repo #morewaita
      - https://copr.fedorainfracloud.org/coprs/julianve/open-any-terminal/repo/fedora-%OS_VERSION%/julianve-open-any-terminal-fedora-%OS_VERSION%.repo #open-any-terminal
    install:
      - butter #butter from zhangyuannie/butter
      - blackbox-terminal
      - epson-inkjet-printer-escpr
      - epson-inkjet-printer-escpr2
      - fastfetch
      - fish
      - firewall-config
      - gnome-shell-extension-gsconnect
      - ibus-mozc
      - morewaita-icon-theme #morewaita from dusansimic/themes
      - numix-icon-theme
      - papirus-icon-theme
      - pulseaudio-utils
      - thefuck
      - wl-clipboard
      - open-any-terminal #open-any-terminal from julianve/open-any-terminal
    remove:
      - firefox
      - firefox-langpacks
      - htop
      - nvtop
      - vim-enhanced
      #unnecessary gnomies
      - gnome-software-rpm-ostree
      - gnome-tour
      - gnome-terminal
      - gnome-terminal-nautilus
      - yelp
      #fedora default gnome extensions
      - gnome-shell-extension-apps-menu
      - gnome-shell-extension-background-logo
      - gnome-shell-extension-launch-new-instance
      - gnome-shell-extension-places-menu
      - gnome-shell-extension-window-list
      #gnome xorg
      - gnome-classic-session
      - gnome-classic-session-xsession

  - from-file: base/gnome-extensions.yml
  - from-file: base/fonts.yml
  - from-file: flatpak/default-flatpaks.yml

  - type: systemd
    system:
      disabled:
        - NetworkManager-wait-online.service

  #DO NOT UNCOMMENT BEFORE EVERYTHING
  #IS PROPERLY CONFIGURED AND TESTED
  #- type: gschema-overrides
    #include:
      #- z0-pbuild-custom.gschema.override

  - type: signing
