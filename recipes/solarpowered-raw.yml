name: solarpowered-raw
description: Custom desktop image based on the official Fedora image

base-image: quay.io/fedora/fedora-bootc
image-version: 41

modules:
  - type: files
    files:
      - usr: /usr

  - type: rpm-ostree
    install:
      # gnome
      - cairo
      - dconf
      - dconf-editor
      - gdm
      - glib2
      - gnome-control-center
      - gnome-session
      - gnome-shell
      - google-noto-sans-cjk-fonts
      - gtk3
      - mutter
      - nautilus
      - pango
      - ptyxis
      - rsms-inter-fonts
      - gsettings-desktop-schemas

  - type: bling
    install:
    - rpmfusion
    - gnome-vrr 

  - type: rpm-ostree
    repos:
      - https://copr.fedorainfracloud.org/coprs/zhangyuannie/butter/repo/fedora-%OS_VERSION%/zhangyuannie-butter-fedora-%OS_VERSION%.repo #butter
      - https://copr.fedorainfracloud.org/coprs/dusansimic/themes/repo/fedora-%OS_VERSION%/dusansimic-themes-fedora-%OS_VERSION%.repo #morewaita
      - https://copr.fedorainfracloud.org/coprs/ilyaz/LACT/repo/fedora-%OS_VERSION%/ilyaz-LACT-fedora-%OS_VERSION%.repo #lact
      - https://copr.fedorainfracloud.org/coprs/shdwchn10/AllTheTools/repo/fedora-%OS_VERSION%/shdwchn10-AllTheTools-fedora-%OS_VERSION%.repo #starship & topgrade
      - https://copr.fedorainfracloud.org/coprs/sneexy/zen-browser/repo/fedora-%OS_VERSION%/sneexy-zen-browser-fedora-%OS_VERSION%.repo #ze
      # basic stuff
      - adw-gtk3-theme
      - alsa-firmware
      - android-tools
      - butter # butter from zhangyuannie/butter
      - codium
      - deepin-sound-theme
      - distrobox
      - epson-inkjet-printer-escpr
      - epson-inkjet-printer-escpr2
      - fastfetch
      - ffmpeg
      - ffmpeg-libs
      - ffmpegthumbnailer
      - fish
      - flatpak-spawn
      - firewall-config
      - fonts-tweak-tool
      - gnome-epub-thumbnailer
      - gnome-tweaks
      - gvfs-nfs
      - heif-pixbuf-loader
      - hunspell
      - hunspell-en
      - ibus-mozc
      - ifuse
      - igt-gpu-tools
      - input-remapper
      - inxi
      - intel-media-driver
      - just
      - lact
      - libappindicator
      - libheif-freeworld
      - libheif-tools
      - libva-utils
      - lm_sensors
      - https://github.com/sidevesh/Luminance/releases/download/1.1.0/luminance-1.1.0.rpm
      - lzip
      - morewaita-icon-theme
      - nautilus-extensions
      - nautilus-python
      - openrgb
      - openrgb-udev-rules
      - openssl
      - oxygen-sounds
      - pipewire-codec-aptx
      - pop-sound-theme
      - ptyxis
      - pulseaudio-utils
      - rsms-inter-fonts
      - starship
      - steam-devices
      - topgrade
      - uxplay
      - waydroid
      - wl-clipboard
      - https://github.com/Windscribe/Desktop-App/releases/download/v2.13.8/windscribe_2.13.8_x86_64_fedora.rpm
      - xorg-x11-server-Xwayland
      - yaru-sound-theme
      - zstd
    remove:
      #- gnome-classic-session
      #- gnome-software
      #- gnome-system-monitor
      - gnome-tour
      #- gnome-shell-extension-apps-menu
      #- gnome-shell-extension-background-logo
      #- gnome-shell-extension-launch-new-instance
      #- gnome-shell-extension-places-menu
      #- gnome-shell-extension-window-list
      - yelp
      - firefox
      - firefox-langpacks
      - power-profiles-daemon
    replace:
      - from-repo: https://copr.fedorainfracloud.org/coprs/trixieua/mutter-patched/repo/fedora-%OS_VERSION%/trixieua-mutter-patched-fedora-%OS_VERSION%.repo
        packages:
        - gnome-shell
        - mutter
        - mutter-common
        - xorg-x11-server-Xwayland

  - type: systemd
    system:
      disabled:
        - NetworkManager-wait-online.service

  - type: signing

