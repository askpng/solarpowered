name: solarpowered-raw
description: Custom desktop image based on the official Fedora image

base-image: quay.io/fedora/fedora-bootc
image-version: 41

modules:
  - from-file: kernels/cachy-kernel.yml

  - type: files
    files:
      - etc: /etc
      - usr: /usr

  - type: bling
    install:
    - rpmfusion

  - type: rpm-ostree
    repos:
      - https://copr.fedorainfracloud.org/coprs/zhangyuannie/butter/repo/fedora-%OS_VERSION%/zhangyuannie-butter-fedora-%OS_VERSION%.repo #butter
      - https://copr.fedorainfracloud.org/coprs/dusansimic/themes/repo/fedora-%OS_VERSION%/dusansimic-themes-fedora-%OS_VERSION%.repo #morewaita
      - https://copr.fedorainfracloud.org/coprs/ilyaz/LACT/repo/fedora-%OS_VERSION%/ilyaz-LACT-fedora-%OS_VERSION%.repo #lact
      - https://copr.fedorainfracloud.org/coprs/shdwchn10/AllTheTools/repo/fedora-%OS_VERSION%/shdwchn10-AllTheTools-fedora-%OS_VERSION%.repo #starship & topgrade
      - https://copr.fedorainfracloud.org/coprs/sneexy/zen-browser/repo/fedora-%OS_VERSION%/sneexy-zen-browser-fedora-%OS_VERSION%.repo #zen browser
    optfix:
      - windscribe
      - zen
    install:
      # gnome
      - baobab
      - cairo
      - dconf
      - dconf-editor
      - gdm
      - glib2
      - gnome-boxes
      - gnome-control-center
      - gnome-disk-utility
      - gnome-session
      - gnome-shell
      - google-noto-sans-cjk-fonts
      - gtk3
      - mutter
      - nautilus
      - pango
      - ptyxis
      - rsms-inter-fonts
      - gsettings-desktop-schemas
      # basic stuff
      - adw-gtk3-theme
      - alsa-firmware
      - android-tools
      - butter
      - codium
      - deepin-sound-theme
      - distrobox
      - epson-inkjet-printer-escpr
      - epson-inkjet-printer-escpr2
      - fastfetch
      - ffmpeg
      - ffmpegthumbnailer
      - fish
      - flatpak
      - fwupd
      - firewall-config
      - fonts-tweak-tool
      - gnome-epub-thumbnailer
      - gnome-tweaks
      - gvfs-nfs
      - heif-pixbuf-loader
      - hunspell
      - hunspell-en
      - igt-gpu-tools
      - inxi
      - intel-media-driver
      - just
      - lact-libadwaita
      - libappindicator
      - libheif-freeworld
      - libheif-tools
      - libva-utils
      - lm_sensors
      - https://github.com/sidevesh/Luminance/releases/download/1.1.0/luminance-1.1.0.rpm
      - lzip
      - morewaita-icon-theme
      - nautilus-extensions
      - nautilus-python
      - openrgb
      - openrgb-udev-rules
      - openssl
      - oxygen-sounds
      - pipewire-codec-aptx
      - pop-sound-theme
      - ptyxis
      - pulseaudio-utils
      - rsms-inter-fonts
      - starship
      - topgrade
      - uxplay
      - waydroid
      - wl-clipboard
      - https://github.com/Windscribe/Desktop-App/releases/download/v2.13.8/windscribe_2.13.8_x86_64_fedora.rpm
      - xorg-x11-server-Xwayland
      - yaru-sound-theme
      - zstd
      - zen-browser
    remove:
      #- gnome-classic-session
      #- gnome-software
      #- gnome-system-monitor
      - gnome-tour
      #- gnome-shell-extension-apps-menu
      #- gnome-shell-extension-background-logo
      #- gnome-shell-extension-launch-new-instance
      #- gnome-shell-extension-places-menu
      #- gnome-shell-extension-window-list
      #- yelp
    replace:
      - from-repo: https://copr.fedorainfracloud.org/coprs/trixieua/mutter-patched/repo/fedora-%OS_VERSION%/trixieua-mutter-patched-fedora-%OS_VERSION%.repo
        packages:
        - gnome-shell
        - mutter
        - mutter-common
        - xorg-x11-server-Xwayland

  - type: gnome-extensions
    install:
      - Alphabetical App Grid
      - AppIndicator and KStatusNotifierItem Support
      - Bluetooth Battery Meter
      - Caffeine
      - Just Perfection
      - Night Theme Switcher
      - Do Not Disturb While Screen Sharing Or Recording
  
  - type: fonts
    fonts:
      nerd-fonts:
        - NerdFontsSymbolsOnly
        - UbuntuMono
        - Ubuntu
      google-fonts:
        - Asap
        - Assistant
        - Fira Sans
        - IBM Plex Sans
        - Kosugi Maru
        - Ruda

  - type: default-flatpaks
    notify: true
    system:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      install:
        - ca.desrt.dconf-editor
        - com.github.tchx84.Flatseal
        - com.github.rafostar.Clapper
        - com.mattjakeman.ExtensionManager
        - io.github.flattool.Warehouse
        - io.github.nokse22.minitext
        - net.nokyan.Resources
        - org.gnome.clocks
        - org.gnome.Epiphany
        - org.gnome.FileRoller
        - org.gnome.Firmware
        - org.gnome.Loupe
        - org.gnome.seahorse.Application
        - org.gnome.SimpleScan
        - org.gnome.Snapshot
        - org.gnome.TextEditor
        - org.gnome.Weather
        - re.sonny.Junction

  - type: signing

